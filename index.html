<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Claw Machine Arcade Pro</title>

<style>
body{
    margin:0;
    background:radial-gradient(circle at top,#1a0033,#000);
    font-family:Arial,Helvetica,sans-serif;
    text-align:center;
    color:white;
    overflow:hidden;
}

h1{
    margin:8px;
    text-shadow:0 0 10px cyan;
}

#game{
    width:420px;
    height:560px;
    margin:10px auto;
    background:#111;
    border:6px solid cyan;
    border-radius:20px;
    position:relative;
    overflow:hidden;
    box-shadow:0 0 30px cyan;
}

#claw{
    position:absolute;
    top:0;
    left:180px;
    width:60px;
    height:120px;
    transition:top 0.2s;
}

.cable{
    width:6px;
    height:70px;
    background:linear-gradient(#aaa,#666);
    margin:auto;
}

.claw-head{
    width:60px;
    height:20px;
    background:linear-gradient(#ddd,#999);
    border-radius:10px;
    position:relative;
}

.arm{
    position:absolute;
    width:6px;
    height:40px;
    background:linear-gradient(#eee,#777);
    bottom:-35px;
    transform-origin:top center;
    transition:0.3s;
}

.left-arm{ left:10px; transform:rotate(25deg); }
.right-arm{ right:10px; transform:rotate(-25deg); }

.grab .left-arm{ transform:rotate(5deg); }
.grab .right-arm{ transform:rotate(-5deg); }

#prize-area{
    position:absolute;
    bottom:0;
    width:100%;
    height:220px;
}

.prize{
    width:40px;
    height:40px;
    border-radius:50%;
    position:absolute;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:bold;
    animation:float 3s infinite alternate ease-in-out;
}

@keyframes float{
    from{ transform:translateY(0px); }
    to{ transform:translateY(-15px); }
}

.common{ background:#3498db; }
.rare{ background:#9b59b6; }
.epic{ background:gold; color:black; }

.controls button{
    padding:10px 15px;
    font-size:16px;
    border-radius:8px;
    border:none;
    margin:3px;
}

#info{
    margin-top:5px;
    font-size:14px;
}

#leaderboard{
    margin-top:10px;
    font-size:14px;
}
</style>
</head>
<body>

<h1>üéÆ Claw Machine Arcade Pro</h1>

<div id="game">
    <div id="claw">
        <div class="cable"></div>
        <div class="claw-head">
            <div class="arm left-arm"></div>
            <div class="arm right-arm"></div>
        </div>
    </div>
    <div id="prize-area"></div>
</div>

<div class="controls">
    <button onclick="insertCoin()">ü™ô Insert Coin</button>
    <button onclick="moveClaw(-25)">‚¨Ö</button>
    <button onclick="moveClaw(25)">‚û°</button>
    <button onclick="dropClaw()">‚¨á Drop</button>
</div>

<div id="info">
Credits: <span id="credits">0</span> |
Score: <span id="score">0</span> |
Time: <span id="timer">30</span>s
</div>

<div id="leaderboard">
üèÖ Top Scores:
<ol id="scoresList"></ol>
</div>

<script>
const claw=document.getElementById("claw");
const prizeArea=document.getElementById("prize-area");

let clawX=180;
let dropping=false;
let credits=0;
let score=0;
let timeLeft=30;
let gameActive=false;
let leaderboard=JSON.parse(localStorage.getItem("clawScores"))||[];

function insertCoin(){
    credits++;
    document.getElementById("credits").innerText=credits;
}

function startGame(){
    if(credits<=0)return alert("Insert coin first!");
    credits--;
    document.getElementById("credits").innerText=credits;
    score=0;
    timeLeft=30;
    gameActive=true;
    createPrizes();
    updateInfo();
    countdown();
}

function countdown(){
    const interval=setInterval(()=>{
        if(!gameActive){clearInterval(interval);return;}
        timeLeft--;
        updateInfo();
        if(timeLeft<=0){
            clearInterval(interval);
            endGame();
        }
    },1000);
}

function updateInfo(){
    document.getElementById("score").innerText=score;
    document.getElementById("timer").innerText=timeLeft;
}

function createPrizes(){
    prizeArea.innerHTML="";
    for(let i=0;i<8;i++){
        const prize=document.createElement("div");
        prize.classList.add("prize");

        const rand=Math.random();
        if(rand<0.6){
            prize.classList.add("common");
            prize.dataset.points=1;
            prize.dataset.chance=0.8;
        }else if(rand<0.9){
            prize.classList.add("rare");
            prize.dataset.points=3;
            prize.dataset.chance=0.5;
        }else{
            prize.classList.add("epic");
            prize.dataset.points=5;
            prize.dataset.chance=0.25;
        }

        prize.style.left=Math.random()*360+"px";
        prize.style.bottom=Math.random()*160+"px";
        prizeArea.appendChild(prize);
    }
}

function moveClaw(amount){
    if(!gameActive||dropping)return;
    clawX+=amount;
    clawX=Math.max(0,Math.min(360,clawX));
    claw.style.left=clawX+"px";
}

function dropClaw(){
    if(!gameActive||dropping)return;
    dropping=true;
    claw.classList.add("grab");
    let dropY=0;
    let interval=setInterval(()=>{
        dropY+=10;
        claw.style.top=dropY+"px";
        if(dropY>=400){
            clearInterval(interval);
            checkCatch();
        }
    },30);
}

function checkCatch(){
    const prizes=document.querySelectorAll(".prize");
    prizes.forEach(prize=>{
        const p=prize.getBoundingClientRect();
        const c=claw.getBoundingClientRect();
        if(c.left<p.right&&c.right>p.left&&c.bottom>p.top&&c.top<p.bottom){
            if(Math.random()<prize.dataset.chance){
                score+=parseInt(prize.dataset.points);
                prize.remove();
            }
        }
    });
    updateInfo();
    setTimeout(()=>{
        claw.style.top="0px";
        claw.classList.remove("grab");
        dropping=false;
    },500);
}

function endGame(){
    gameActive=false;
    leaderboard.push(score);
    leaderboard.sort((a,b)=>b-a);
    leaderboard=leaderboard.slice(0,5);
    localStorage.setItem("clawScores",JSON.stringify(leaderboard));
    displayLeaderboard();
    alert("Time's up! Final Score: "+score);
}

function displayLeaderboard(){
    const list=document.getElementById("scoresList");
    list.innerHTML="";
    leaderboard.forEach(s=>{
        const li=document.createElement("li");
        li.innerText=s;
        list.appendChild(li);
    });
}

document.addEventListener("keydown",e=>{
    if(e.key==="ArrowLeft")moveClaw(-25);
    if(e.key==="ArrowRight")moveClaw(25);
    if(e.key===" ")dropClaw();
    if(e.key==="Enter")startGame();
});

displayLeaderboard();
</script>

</body>
</html>
